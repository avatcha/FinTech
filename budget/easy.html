<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Snap Budget</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://code.highcharts.com/highcharts.js"></script>

<style>
  /* ====== Global tokens ====== */
  :root{
    --bg:#f5f7fa; --card:#ffffff; --text:#1b1f3b; --muted:#6b7280;
    --stroke:#d9dee7; --brand:#1a73e8; --brand-700:#0f5ad2; --brand-dark:#125ac0;
    --soft:#f7f9ff; --radius:18px; --shadow:0 8px 24px rgba(0,0,0,0.06);
    --pad-x:24px; --content-w:1200px;
  }

  /* ====== Base ====== */
  * { box-sizing:border-box }
  html, body { height:100% }
  body {
    font-family:"Inter", sans-serif; margin:0; background:var(--bg); color:var(--text);
    -webkit-tap-highlight-color:transparent; padding-top:70px; /* room for fixed header */
  }
  .cb-wrap { max-width: var(--content-w); margin: 0 auto; padding: 0 var(--pad-x); }

  /* ====== Header (fixed, shared) ====== */
  .site-header{
    position:fixed; top:0; left:0; right:0; z-index:1000;
    background:rgba(255,255,255,.9);
    backdrop-filter:blur(8px);
    border-bottom:1px solid var(--stroke);
  }
  .header-inner{ min-height:60px; display:flex; align-items:center; justify-content:space-between; }
  .brand{ color:var(--text); text-decoration:none; font-weight:800; font-size:20px; letter-spacing:.2px }
  .nav-links{ display:flex; gap:18px; align-items:center }
  .nav-links a{ color:inherit; text-decoration:none; font-weight:600; font-size:14px }
  .nav-links a:hover{ text-decoration:underline }
  .nav-toggle{ display:none; border:0; background:none; font-size:26px; cursor:pointer }
  @media (max-width:820px){
    .nav-toggle{ display:block }
    .nav-links{ display:none; position:absolute; right:var(--pad-x); top:60px; background:var(--card);
      border:1px solid var(--stroke); border-radius:12px; box-shadow:0 8px 24px rgba(2,6,23,.15); padding:12px }
    .nav-links.open{ display:block }
    .nav-links a{ display:block; padding:8px 10px }
  }

  /* ====== Top kicker + info strip ====== */
  .kicker{
    font-weight:800; font-size:12px; letter-spacing:.12em; text-transform:uppercase;
    color:var(--brand); margin:10px 0 8px 0;
  }
  .strip{
    display:flex; align-items:center; gap:10px; background:var(--soft);
    border:1px solid var(--stroke); border-radius:12px; padding:10px 12px;
    color:#6b7280; font-size:13px;
  }
  .strip svg{ flex:0 0 auto }

  /* ====== Page-specific (Snap Budget) ====== */
  .accordion { margin-top:20px; }
  .acc-item {
    background:var(--card); border:1px solid var(--stroke); border-radius:var(--radius);
    margin-bottom:14px; box-shadow:var(--shadow); overflow:hidden;
  }
  .acc-header {
    padding:16px 20px; font-weight:700; cursor:pointer; display:flex; justify-content:space-between;
    align-items:center; background:var(--card); font-size:17px;
  }
  .acc-header:hover { background:#f0f2f8; }
  .acc-body { display:none; padding:20px; border-top:1px solid var(--stroke); background:var(--card); }
  .open .acc-body { display:block; }

  .cb-row { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
  @media(max-width:600px){ .cb-row { grid-template-columns:1fr; } }

  label { font-size:14px; font-weight:600; margin-bottom:4px; }
  input[type="number"], input[type="text"]{
    padding:12px 14px; font-size:16px; border-radius:12px; border:1px solid var(--stroke); width:100%; background:white;
  }
  input[readonly]{ background:#f2f3f7; cursor:not-allowed; }

  .calculate-btn{
    margin-top:20px; width:100%; padding:16px; font-size:18px; font-weight:700;
    background:var(--brand); color:#fff; border:none; border-radius:14px; cursor:pointer;
  }
  .calculate-btn:hover{ background:var(--brand-dark); }

  .results-box{
    margin-top:30px; padding:20px; background:var(--card); border-radius:var(--radius);
    border:1px solid var(--stroke); box-shadow:var(--shadow);
  }
  #charts-wrapper{ margin-top:25px; display:grid; grid-template-columns:1fr 1fr; gap:20px; }
  @media(max-width:850px){ #charts-wrapper { grid-template-columns:1fr; } }
  #incomeVsExpenses, #categoryChart{ background:transparent; height:340px; }

  h2 { margin-top:0; }
</style>
</head>

<body>

  <!-- ===== Header ===== -->
  <header class="site-header">
    <div class="cb-wrap header-inner">
      <a class="brand" href="index.html">stakxAi</a>
      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav" aria-label="Toggle navigation">â˜°</button>
      <nav id="primary-nav" class="nav-links" aria-label="Primary">
        <a href="retirement.html">Retirement Planning</a>
        <a href="budget/easy.html">Budget Tool</a>
        <a href="questions.html">Healthcare Tool</a>
        <a href="community.html">Community Boards</a>
      </nav>
    </div>
  </header>

  <!-- Kicker + Info strip -->
  <div class="cb-wrap" style="margin-top:12px;">
    <div class="kicker">Rack your Stakx.</div>
    <div class="strip" role="status" aria-live="polite">
      <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
        <path fill="currentColor" d="M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2Zm1 15h-2v-6h2Zm0-8h-2V7h2Z"/>
      </svg>
      Free forever. No login required. No data is collected by us. Data lives on your broswer and deleted when you shut it down.
    </div>
  </div>

  <!-- ===== Page content ===== -->
  <div class="cb-wrap">
    <h1 style="margin-top:10px; font-size:32px; font-weight:800;">Snap Budget</h1>
    <p style="color:var(--muted); margin-bottom:25px;">A fast, simple breakdown of your money â€” with insights.</p>

    <!-- Accordion -->
    <div class="accordion">

      <!-- SECTION 1 â€” AGE & MONTHLY INCOME -->
      <div class="acc-item">
        <div class="acc-header">1. Age & Income <span>+</span></div>
        <div class="acc-body">
          <div class="cb-row">
            <div>
              <label>Current Age</label>
              <input type="number" id="age" min="16" max="100" />
            </div>
            <div>
              <label>Monthly Gross Income ($)</label>
              <input type="number" id="grossIncome" />
            </div>
            <div>
              <label>Monthly Taxes ($)</label>
              <input type="number" id="taxes" />
            </div>
            <div>
              <label>Monthly Net Income ($)</label>
              <input type="number" id="netIncome" readonly />
            </div>
          </div>
        </div>
      </div>

      <!-- SECTION 2 â€” HOUSING & TRANSPORT -->
      <div class="acc-item">
        <div class="acc-header">2. Housing & Transport <span>+</span></div>
        <div class="acc-body">
          <div class="cb-row">
            <div><label>Monthly Rent / Mortgage</label><input type="number" id="rent" /></div>
            <div><label>Monthly Utilities</label><input type="number" id="utilities" /></div>
            <div><label>Monthly Internet</label><input type="number" id="internet" /></div>
            <div><label>Monthly Car Payment</label><input type="number" id="carPayment" /></div>
            <div><label>Monthly Car Insurance</label><input type="number" id="carInsurance" /></div>
            <div><label>Monthly Gas / Transit</label><input type="number" id="gas" /></div>
          </div>
        </div>
      </div>

      <!-- SECTION 3 â€” LIVING COSTS -->
      <div class="acc-item">
        <div class="acc-header">3. Living Costs <span>+</span></div>
        <div class="acc-body">
          <div class="cb-row">
            <div><label>Monthly Groceries</label><input type="number" id="groceries" /></div>
            <div><label>Monthly Dining / Coffee</label><input type="number" id="dining" /></div>
            <div><label>Monthly Entertainment</label><input type="number" id="entertainment" /></div>
            <div><label>Monthly Shopping</label><input type="number" id="shopping" /></div>
            <div><label>Monthly Phone Bill</label><input type="number" id="phone" /></div>
            <div><label>Monthly Miscellaneous</label><input type="number" id="misc" /></div>
          </div>
        </div>
      </div>

      <!-- SECTION 4 â€” DEBTS -->
      <div class="acc-item">
        <div class="acc-header">4. Debts <span>+</span></div>
        <div class="acc-body">
          <div class="cb-row">
            <div>
              <label>Monthly Credit Card Minimums</label>
              <input type="number" id="ccMin" />
            </div>
            <div>
              <label>Monthly Loan Payments</label>
              <input type="number" id="loans" />
            </div>
            <div style="grid-column:1 / -1;">
              <label>Total Credit Card Debt ($)</label>
              <input type="number" id="ccTotal" />
            </div>
            <div style="grid-column:1 / -1;">
              <label>Total Other Debt ($)</label>
              <input type="number" id="otherDebt" />
            </div>
          </div>
        </div>
      </div>

      <!-- SECTION 5 â€” SAVINGS -->
      <div class="acc-item">
        <div class="acc-header">5. Savings <span>+</span></div>
        <div class="acc-body">
          <h3>Traditional Retirement</h3>
          <div class="cb-row">
            <div><label>Monthly Contribution</label><input type="number" id="trad_month" /></div>
            <div><label>Total Balance</label><input type="number" id="trad_total" /></div>
          </div>

          <h3>Roth Retirement</h3>
          <div class="cb-row">
            <div><label>Monthly Contribution</label><input type="number" id="roth_month" /></div>
            <div><label>Total Balance</label><input type="number" id="roth_total" /></div>
          </div>

          <h3>Savings Accounts</h3>
          <div class="cb-row">
            <div><label>Monthly Contribution</label><input type="number" id="save_month" /></div>
            <div><label>Total Balance</label><input type="number" id="save_total" /></div>
          </div>

          <h3>Bonds / Securities / Crypto</h3>
          <div class="cb-row">
            <div><label>Monthly Contribution</label><input type="number" id="inv_month" /></div>
            <div><label>Total Balance</label><input type="number" id="inv_total" /></div>
          </div>
        </div>
      </div>

    </div>

    <button class="calculate-btn" id="calculateBtn">Calculate Budget</button>

    <!-- RESULTS -->
    <div id="results" class="results-box" style="display:none;">
      <h2>Your Budget Summary</h2>

      <div id="charts-wrapper">
        <div id="incomeVsExpenses"></div>
        <div id="categoryChart"></div>
      </div>

      <h2 style="margin-top:30px;">Insights</h2>
      <div id="insights"></div>
    </div>
  </div>

<script>
  // ===== Mobile nav toggle (single instance) =====
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.querySelector('.nav-toggle');
    const nav = document.getElementById('primary-nav');
    if (!btn || !nav) return;
    btn.addEventListener('click', () => {
      const opened = nav.classList.toggle('open');
      btn.setAttribute('aria-expanded', opened ? 'true' : 'false');
    });
  });

  // ===== Accordion =====
  document.querySelectorAll('.acc-header').forEach(header=>{
    header.addEventListener('click', ()=>{
      const item = header.parentElement;
      item.classList.toggle('open');
      header.querySelector('span').textContent = item.classList.contains('open') ? 'âˆ’' : '+';
    });
  });

  // ===== Auto-calc net income =====
  const grossEl = document.getElementById("grossIncome");
  const taxEl = document.getElementById("taxes");
  const netEl = document.getElementById("netIncome");
  function updateNet() {
    const gross = Number(grossEl.value||0);
    const taxes = Number(taxEl.value||0);
    netEl.value = Math.max(0, gross - taxes);
  }
  grossEl.addEventListener("input", updateNet);
  taxEl.addEventListener("input", updateNet);

  // ===== Main Calculate =====
  document.getElementById("calculateBtn").addEventListener("click", ()=>{
    const income = Number(netEl.value||0);

    /* Expenses */
    const expenses = {
      Rent: Number(rent.value||0),
      Utilities: Number(utilities.value||0),
      Internet: Number(internet.value||0),
      CarPayment: Number(carPayment.value||0),
      CarInsurance: Number(carInsurance.value||0),
      Gas: Number(gas.value||0),
      Groceries: Number(groceries.value||0),
      Dining: Number(dining.value||0),
      Entertainment: Number(entertainment.value||0),
      Shopping: Number(shopping.value||0),
      Phone: Number(phone.value||0),
      Misc: Number(misc.value||0),
      CreditMin: Number(ccMin.value||0),
      Loans: Number(loans.value||0)
    };

    const totalExpenses = Object.values(expenses).reduce((a,b)=>a+b,0);

    /* Charts */
    Highcharts.chart("incomeVsExpenses", {
      chart:{ type:"column", backgroundColor:"transparent" },
      title:{ text:"Income vs Expenses" },
      xAxis:{ categories:["Monthly"] },
      yAxis:{ title:{ text:"Amount ($)" }},
      series:[
        { name:"Income", data:[income], color:"#2b8a3e" },
        { name:"Expenses", data:[totalExpenses], color:"#d62828" }
      ],
      credits:{ enabled:false }
    });

    const donutData = Object.entries(expenses)
      .filter(([k,v])=>v>0)
      .map(([k,v])=>({ name:k, y:v }));

    Highcharts.chart("categoryChart", {
      chart:{ type:"pie", backgroundColor:"transparent" },
      title:{ text:"Expenses by Category" },
      plotOptions:{ pie:{ innerSize:"55%", dataLabels:{ enabled:true } } },
      series:[{ name:"$", data:donutData }],
      credits:{ enabled:false }
    });

    /* Insights */
    const insights = [];

    const totalDebt =
      Number(document.getElementById("ccTotal").value||0) +
      Number(document.getElementById("otherDebt").value||0);

    const totalAssets =
      Number(trad_total.value||0) +
      Number(roth_total.value||0) +
      Number(save_total.value||0) +
      Number(inv_total.value||0);

    if (totalAssets > 0 || totalDebt > 0) {
      const ratio = totalAssets > 0 ? Math.round((totalDebt / totalAssets) * 100) : null;
      insights.push(
        `ðŸ“Š Total assets $${totalAssets.toLocaleString()} vs total debt $${totalDebt.toLocaleString()}${
          ratio !== null ? ` (debt-to-asset ${ratio}%)` : ""
        }.`
      );
    }

    if (totalExpenses > income) {
      insights.push("âš ï¸ You are spending more than you earn. This is unsustainable.");
    }
    if (income - totalExpenses > income*0.25) {
      insights.push("âœ… Strong savings rate â€” you're ahead of most peers.");
    }
    if (income - totalExpenses < income*0.10) {
      insights.push("âš ï¸ Savings rate is low. Consider trimming discretionary expenses.");
    }

    if (expenses.Dining > income*0.10) insights.push("ðŸ½ Dining/coffee appears high.");
    if (expenses.Shopping > income*0.10) insights.push("ðŸ› Shopping looks unusually high.");
    if (expenses.Rent > income*0.35) insights.push("ðŸ  Housing exceeds 35% of income.");

    if (insights.length === 0) {
      insights.push("âœ… Your spending profile looks well-balanced.");
    }

    document.getElementById("insights").innerHTML =
      insights.map(i=>`<p>${i}</p>`).join("");

    document.getElementById("results").style.display = "block";
  });
</script>

</body>
</html>

